(this["webpackJsonpnext-dance-step"]=this["webpackJsonpnext-dance-step"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),l=(a(101),a(8)),s=a(9),c=a(7),u=a(11),m=a(10),p=(a(102),a(103),a(147)),h=a(69),d=a.n(h),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.props.onClick()},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{onClick:this.handleClick,style:{position:"fixed",left:"16px",bottom:"16px"}},r.a.createElement(d.a,null))}}]),a}(r.a.Component),v=a(113),b=a(174),f=a(155),C=a(153),E=a(154),j=a(152),O=a(170),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.onChange(e.target.value)},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,{autoFocus:!0,margin:"dense",id:"datasource",label:"Google Spreadsheet URL",type:"url",fullWidth:!0,onChange:this.handleChange,error:this.props.error})}}]),a}(r.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.onClose()},n.handleApply=function(){n.state.wrongUrl||null===n.googleSheetCode||(localStorage.setItem("googleSheetCode",n.googleSheetCode),window.location.reload())},n.validateGoogleSheetUrl=function(e){if(0===e.search("https://docs.google.com/spreadsheets/d/")){var t=e.split("https://docs.google.com/spreadsheets/d/")[1].split("/");n.validateGoogleSheetCode(t[0])}else n.googleSheetCode=null,n.setState({wrongUrl:!0})},n.validateGoogleSheetCode=function(e){e.length>0?(n.googleSheetCode=e,n.setState({wrongUrl:!1})):(n.googleSheetCode=null,n.setState({wrongUrl:!0}))},n.handleClose=n.handleClose.bind(Object(c.a)(n)),n.validateGoogleSheetUrl=n.validateGoogleSheetUrl.bind(Object(c.a)(n)),n.validateGoogleSheetCode=n.validateGoogleSheetCode.bind(Object(c.a)(n)),n.handleApply=n.handleApply.bind(Object(c.a)(n)),n.googleSheetCode=null,n.state={wrongUrl:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(b.a,{open:this.props.source,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(j.a,{id:"form-dialog-title"},"Data Source"),r.a.createElement(C.a,null,r.a.createElement(E.a,null,"To load another data source, please enter your Google Spreadsheet Link Address here. The application will restart to load the new values."),r.a.createElement(S,{onChange:this.validateGoogleSheetUrl,error:this.state.wrongUrl})),r.a.createElement(f.a,null,r.a.createElement(v.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(v.a,{onClick:this.handleApply,color:"primary"},"Apply")))}}]),a}(r.a.Component),k=a(112),x=a(156),D=a(157),w=a(71),R=a.n(w),T=a(70),L=a.n(T),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.onChange(e.target.value)},n.handleIncrease=function(){n.inputRef.current.focus(),n.props.onChange(n.props.value+1)},n.handleDecrease=function(){n.inputRef.current.focus(),n.props.onChange(n.props.value-1)},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleIncrease=n.handleIncrease.bind(Object(c.a)(n)),n.handleDecrease=n.handleDecrease.bind(Object(c.a)(n)),n.inputRef=r.a.createRef(),n}return Object(s.a)(a,[{key:"render",value:function(){var e={startAdornment:this.props.startAdornment.startAdornment,endAdornment:r.a.createElement(x.a,{position:"end"},r.a.createElement(D.a,{color:"default","aria-label":"decrease",onClick:this.handleDecrease},r.a.createElement(L.a,null)),r.a.createElement(D.a,{color:"default","aria-label":"increase",onClick:this.handleIncrease},r.a.createElement(R.a,null)))};return r.a.createElement(k.a,null,r.a.createElement(O.a,{label:this.props.label,value:this.props.value,type:"number",InputProps:e,inputProps:{readOnly:!0},onChange:this.handleChange,variant:"outlined",error:this.props.error,inputRef:this.inputRef}))}}]),a}(r.a.Component),I=a(158),M=a(72),N=a.n(M),P=a(73),G=a.n(P),U=a(150),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChangeMinimum=function(e){var t=e,a=n.state.maximum;(t<n.props.range.minimum||""===t)&&(t=n.props.range.minimum),t>n.props.range.maximum&&(t=a),t>a&&(a=t),n.updateLevels(t,a)},n.handleChangeMaximum=function(e){var t=n.state.minimum,a=e;(a>n.props.range.maximum||""===a)&&(a=n.props.range.maximum),a<n.props.range.minimum&&(a=t),a<t&&(t=a),n.updateLevels(t,a)},n.updateLevels=function(e,t){n.state.minimum===e&&n.state.maximum===t||(n.setState({minimum:e,maximum:t}),n.props.onChangeLevels({minimum:e,maximum:t}))},n.handleChangeMaximum=n.handleChangeMaximum.bind(Object(c.a)(n)),n.handleChangeMinimum=n.handleChangeMinimum.bind(Object(c.a)(n)),n.state={minimum:n.props.levels.minimum,maximum:n.props.levels.maximum},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){this.handleChangeMinimum(this.state.minimum),this.handleChangeMaximum(this.state.maximum)}},{key:"render",value:function(){var e=[{element:r.a.createElement(A,{startAdornment:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(N.a,null))},label:"Level Minimum",value:this.state.minimum,onChange:this.handleChangeMinimum}),timeout:600,key:"settings-levels-minium"},{element:r.a.createElement(A,{startAdornment:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(G.a,null))},label:"Level Maximum",value:this.state.maximum,onChange:this.handleChangeMaximum}),timeout:900,key:"settings-levels-maximum"}];return r.a.createElement(I.a,{container:!0,direction:"column",spacing:3},e.map((function(e){return r.a.createElement(U.a,{in:!0,timeout:e.timeout,key:e.key},r.a.createElement(I.a,{item:!0},e.element))})))}}]),a}(r.a.Component),W=a(159),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.onChange(e.target.value)},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,null,r.a.createElement(O.a,{label:this.props.label,value:this.props.value,select:!0,InputProps:this.props.inputProps,onChange:this.handleChange,helperText:this.props.helperText,variant:"outlined",fullWidth:!0},this.props.options.map((function(e){return r.a.createElement(W.a,{key:e.value,value:e.value},e.label)}))))}}]),a}(r.a.Component),$=a(74),F=a.n($),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.onChangeData(e)},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e={startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(F.a,null))};return r.a.createElement(k.a,null,r.a.createElement(q,{inputProps:e,label:"Dance Steps",value:this.props.optionSelected,options:this.props.options,onChange:this.handleChange}))}}]),a}(r.a.Component),V=a(75),X=a.n(V),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({value:e,error:e<1}),n.props.onChangeTimer(e)},n.minimumAllowed=function(){n.state.value<1&&(n.timerId=setTimeout(n.minimumRestore,800))},n.minimumRestore=function(){clearTimeout(n.timerId),n.handleChange(1)},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.minimumAllowed=n.minimumAllowed.bind(Object(c.a)(n)),n.minimumRestore=n.minimumRestore.bind(Object(c.a)(n)),n.state={value:n.props.timer,error:n.props.timer<1},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){this.minimumAllowed()}},{key:"render",value:function(){return r.a.createElement(k.a,null,r.a.createElement(A,{startAdornment:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(X.a,null))},label:"Seconds to next Step",value:this.state.value,onChange:this.handleChange,error:this.state.error}))}}]),a}(r.a.Component),J=a(163),H=a(114),Q=a(151),Y=a(164),Z=a(161),_=a(162),ee=a(33),te=a(76),ae=a.n(te),ne=a(160),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.onClose()},n.handleClose=n.handleClose.bind(Object(c.a)(n)),n.transition=r.a.forwardRef((function(e,t){return r.a.createElement(ne.a,Object.assign({direction:"up",ref:t},e))})),n}return Object(s.a)(a,[{key:"render",value:function(){var e=0;return r.a.createElement(b.a,{fullScreen:!0,open:this.props.open,onClose:this.handleClose,TransitionComponent:this.transition},r.a.createElement(Z.a,{color:"default",style:{position:"sticky"}},r.a.createElement(_.a,null,r.a.createElement(D.a,{edge:"start",color:"inherit",onClick:this.handleClose,"aria-label":"close"},r.a.createElement(ae.a,null)),r.a.createElement(ee.a,{variant:"h6"},this.props.data.label))),r.a.createElement(Q.a,null,this.props.data.steps.map((function(t){return r.a.createElement(H.a,{button:!0,divider:!0,key:"step"+e++},r.a.createElement(J.a,{primary:t.name,secondary:t.description}),r.a.createElement(Y.a,null,r.a.createElement(ee.a,{variant:"caption"},t.level)))}))))}}]),a}(r.a.Component),oe=a(165),ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChangeData=function(e){var t=n.props.data.find((function(t){return t.value===e}));n.props.onChangeSettings({value:e,minimum:t.minimum,maximum:t.maximum,timer:n.props.settings.timer})},n.onChangeLevels=function(e){n.props.onChangeSettings({value:n.props.settings.value,minimum:e.minimum,maximum:e.maximum,timer:n.props.settings.timer})},n.onChangeTimer=function(e){n.props.onChangeSettings({value:n.props.settings.value,minimum:n.props.settings.minimum,maximum:n.props.settings.maximum,timer:e})},n.openDialogSource=function(){n.setState({source:!0})},n.closeDialogSource=function(){n.setState({source:!1})},n.openDialogSteps=function(){n.setState({steps:!0})},n.closeDialogSteps=function(){n.setState({steps:!1})},n.onChangeData=n.onChangeData.bind(Object(c.a)(n)),n.onChangeLevels=n.onChangeLevels.bind(Object(c.a)(n)),n.onChangeTimer=n.onChangeTimer.bind(Object(c.a)(n)),n.openDialogSource=n.openDialogSource.bind(Object(c.a)(n)),n.closeDialogSource=n.closeDialogSource.bind(Object(c.a)(n)),n.options=[],n.range=[],n.props.data.map((function(e){n.options.push({label:e.label,value:e.value}),n.range.push({minimum:e.minimum,maximum:e.maximum})})),n.state={source:!1,steps:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=[{element:r.a.createElement(K,{options:this.options,optionSelected:this.props.settings.value,onChangeData:this.onChangeData}),timeout:300,key:"settings-data"},{element:r.a.createElement(B,{levels:{minimum:this.props.settings.minimum,maximum:this.props.settings.maximum},range:this.range[this.props.settings.value],onChangeLevels:this.onChangeLevels}),timeout:600,key:"settings-levels"},{element:r.a.createElement(z,{timer:this.props.settings.timer,onChangeTimer:this.onChangeTimer}),timeout:1200,key:"settings-timer"},{element:r.a.createElement(v.a,{variant:"contained",onClick:this.openDialogSteps},"List Steps"),timeout:1500,key:"settings-button-list"}];return r.a.createElement(oe.a,{maxWidth:"xs"},r.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch",spacing:3},e.map((function(e){return r.a.createElement(U.a,{in:!0,timeout:e.timeout,key:e.key},r.a.createElement(I.a,{item:!0,xs:!0},e.element))}))),r.a.createElement(g,{onClick:this.openDialogSource}),r.a.createElement(y,{source:this.state.source,onClose:this.closeDialogSource}),r.a.createElement(re,{open:this.state.steps,onClose:this.closeDialogSteps,data:this.props.data[this.props.settings.value]}))}}]),a}(r.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.a,{variant:"h2",gutterBottom:!0},this.props.name)}}]),a}(r.a.Component),se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.a,{variant:"caption",gutterBottom:!0},this.props.level)}}]),a}(r.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.a,{variant:"inherit",gutterBottom:!0},this.props.description)}}]),a}(r.a.Component),ue=a(167),me=a(166),pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).generateNextStep=n.generateNextStep.bind(Object(c.a)(n)),n.setNextDanceStep=n.setNextDanceStep.bind(Object(c.a)(n)),n.startTimer=n.startTimer.bind(Object(c.a)(n)),n.stopTimer=n.stopTimer.bind(Object(c.a)(n)),n.pauseTimer=n.pauseTimer.bind(Object(c.a)(n)),n.count=n.count.bind(Object(c.a)(n)),n.timeResolution=.2,n.dancing=!1,n.state={count:0,stepName:"Let's Dance!",stepDesc:n.props.data.label,stepLevel:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"startTimer",value:function(){this.timerId=setInterval(this.count,1e3*this.timeResolution),this.dancing=!0}},{key:"stopTimer",value:function(){clearInterval(this.timerId),this.dancing=!1}},{key:"pauseTimer",value:function(){this.dancing?this.stopTimer():this.startTimer()}},{key:"count",value:function(){var e=this.state.count+this.timeResolution;e>this.props.settings.timer?(this.setState({count:this.props.settings.timer}),this.pauseTimer(),setTimeout(this.setNextDanceStep,800)):this.setState({count:e})}},{key:"generateNextStep",value:function(){var e=Math.floor(1e3*Math.random())%this.props.data.steps.length,t=this.props.data.steps[e].level;return t>this.props.settings.maximum||t<this.props.settings.minimum?this.generateNextStep():this.props.data.steps[e]}},{key:"setNextDanceStep",value:function(){var e=this.generateNextStep();this.setState({count:0,stepName:e.name,stepDesc:e.description,stepLevel:e.level}),this.startTimer()}},{key:"render",value:function(){var e=this.state.count!==this.props.settings.timer,t=Math.round(this.state.count/this.props.settings.timer*100),a=[r.a.createElement(le,{name:this.state.stepName})];return 0!==this.state.stepDesc.length&&a.push(r.a.createElement(ce,{description:this.state.stepDesc})),0!==this.state.stepLevel.length&&a.push(r.a.createElement(se,{level:this.state.stepLevel})),r.a.createElement(oe.a,{maxWidth:"md",ref:this.props.inputRef},r.a.createElement(me.a,{in:e,timeout:800},r.a.createElement(k.a,{elevation:4,onClick:this.pauseTimer},r.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,style:{padding:"16px"}},a.map((function(e){return r.a.createElement(I.a,{item:!0},e)}))),r.a.createElement(ue.a,{variant:"determinate",value:t}))))}}]),a}(r.a.Component),he=a(78),de=a.n(he),ge=a(77),ve=a.n(ge),be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.props.onPlayButton(e.target.value)},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{onClick:this.handleClick,style:{position:"fixed",right:"16px",bottom:"16px"}},this.props.play?r.a.createElement(ve.a,null):r.a.createElement(de.a,null))}}]),a}(r.a.Component),fe=a(79),Ce=a.n(fe),Ee=a(60),je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlePlayButton=function(){n.setState({isRunning:!n.state.isRunning})},n.handleSettings=function(e){n.setState({settings:e})},n.getDance=function(){return r.a.createElement(pe,{settings:n.state.settings,dance:n.state.isRunning,data:{label:n.props.data[n.state.settings.value].label,steps:n.props.data[n.state.settings.value].steps}})},n.getSettings=function(){return r.a.createElement(ie,{settings:n.state.settings,data:n.props.data,onChangeSettings:n.handleSettings})},n.handlePlayButton=n.handlePlayButton.bind(Object(c.a)(n)),n.handleSettings=n.handleSettings.bind(Object(c.a)(n)),n.inputRef=r.a.createRef(),n.state={isRunning:!1,settings:{value:n.props.data[0].value,minimum:n.props.data[0].minimum,maximum:n.props.data[0].maximum,timer:10}},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){this.keepScreenAwake()}},{key:"keepScreenAwake",value:function(){this.state.isRunning?Object(Ee.a)():Object(Ee.b)()}},{key:"render",value:function(){return r.a.createElement(Ce.a,{enabled:this.state.isRunning},r.a.createElement(oe.a,{ref:this.inputRef,className:"component-main-container"},r.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:"component-main-grid"},r.a.createElement(I.a,{item:!0},this.state.isRunning?this.getDance():this.getSettings())),r.a.createElement(be,{play:this.state.isRunning,onPlayButton:this.handlePlayButton})))}}]),a}(r.a.Component),Oe=(a(109),a(172)),Se=a(169),ye=a(168),ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDefault=function(){localStorage.removeItem("googleSheetCode"),e.handleReload()},e.handleReload=function(){window.location.reload()},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(oe.a,null,r.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch",spacing:1,wrap:"nowrap"},r.a.createElement(I.a,{item:!0},r.a.createElement(ee.a,{variant:"overline",color:"error"},this.props.message)),r.a.createElement(I.a,{item:!0},r.a.createElement(k.a,{variant:"outlined",square:!0},r.a.createElement(ee.a,{variant:"caption"},"Please make sure that ",r.a.createElement(ye.a,{href:"https://support.google.com/a/users/answer/9308870"},"Publish to the web")," option is enabled for the Google Spreadsheet selected."))),r.a.createElement(I.a,{item:!0},r.a.createElement(k.a,{variant:"outlined",square:!0},r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{variant:"caption"},"The document should list the Dance Steps arranged in three columns:")),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{variant:"caption"},"- First column contains the Level (numeric).")),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{variant:"caption"},"- Second column contains the Name.")),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{variant:"caption"},"- Third column has a short Description (optional).")),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{variant:"caption"},"Check here the ",r.a.createElement(ye.a,{href:"https://docs.google.com/spreadsheets/d/1baypc9DXbtk85KqFqXR0zdbG0d5wKrn8lMskI50iq6E"},"Google Spreadsheet example"),".")))),r.a.createElement(I.a,{item:!0},r.a.createElement(k.a,{variant:"outlined",square:!0},r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{variant:"caption",display:"block",noWrap:!0},"Current googleSheetCode:")),r.a.createElement(Oe.a,null,r.a.createElement(ee.a,{variant:"caption",display:"block",noWrap:!0},this.props.googleSheetCode)))),r.a.createElement(I.a,{item:!0},r.a.createElement(Se.a,{fullWidth:!0},r.a.createElement(v.a,{onClick:this.handleDefault},"Default"),r.a.createElement(v.a,{onClick:this.handleReload},"Reload")))))}}]),a}(r.a.Component),xe=a(80),De=a.n(xe),we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).googleSheetUrl=function(e,t){return"https://spreadsheets.google.com/feeds/cells/"+e+"/"+t+"/public/full?alt=json"},n.status=function(e){return e.status>=200&&e.status<300?Promise.resolve(e):(console.log(e.statusText),Promise.reject(new Error(e.statusText)))},n.json=function(e){return e.json()},n.loadGoogleSheet=function(e,t){fetch(n.googleSheetUrl(e,t),{mode:"cors"}).then(n.status).then(n.json).then(n.parse).catch(n.error)},n.error=function(e){0===n.state.dances.length?n.setState({error:{hasError:!0,message:e.toString()}}):n.props.onLoad(n.state.dances)},n.parse=function(e){var t=n.parseSheetCells(e),a=n.parseDanceSteps(t),r=n.state.dances;r.push({label:n.parseDanceLabel(e),value:n.googleSheetPage-1,minimum:a.minimum,maximum:a.maximum,steps:a.steps}),n.setState({dances:r}),n.googleSheetPage=n.googleSheetPage+1,n.loadGoogleSheet(n.googleSheetCode,n.googleSheetPage)},n.getGoogleSheetCode=function(){var e=localStorage.getItem("googleSheetCode");return e=null===e?"1baypc9DXbtk85KqFqXR0zdbG0d5wKrn8lMskI50iq6E":e},n.parseDanceLabel=function(e){return e.feed.title.$t},n.parseSheetCells=function(e){var t=e.feed.entry,a=[];return t.map((function(e){return a.push({row:e.gs$cell.row,col:e.gs$cell.col,inputValue:e.gs$cell.$t})})),a},n.parseDanceSteps=function(e){var t=[],a=99,n=0,r="1",o={level:"",name:"",description:""};return e.map((function(e){switch(r!==e.row&&(t.push(o),o={level:"",name:"",description:""},r=e.row),e.col){case"1":o.level=e.inputValue,a=a>o.level?parseInt(o.level):a,n=n<o.level?parseInt(o.level):n;break;case"2":o.name=e.inputValue;break;case"3":o.description=e.inputValue}})),t.push(o),{minimum:a,maximum:n,steps:t}},n.promptLoading=function(){return r.a.createElement(oe.a,null,r.a.createElement(ee.a,{variant:"overline",gutterBottom:!0},"Loading..."),n.state.dances.map((function(e){return r.a.createElement(Oe.a,{key:e.value},r.a.createElement(ee.a,{variant:"caption",gutterBottom:!0},e.label))})))},n.promptDisclaimer=function(){return r.a.createElement(ke,{message:n.state.error.message,googleSheetCode:n.googleSheetCode})},n.getReadme=function(){return r.a.createElement(oe.a,{className:"component-loader-center"},r.a.createElement(ee.a,{className:"component-loader-readme",variant:"caption"},r.a.createElement(ye.a,{href:"https://github.com/patrisiu/next-dance-step/",color:"inherit"},"GitHub README")))},n.googleSheetCode=n.getGoogleSheetCode(),n.googleSheetPage=1,n.state={dances:[],error:{hasError:!1,message:""}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadGoogleSheet(this.googleSheetCode,this.googleSheetPage)}},{key:"render",value:function(){return r.a.createElement(oe.a,null,r.a.createElement(I.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",alignContent:"stretch",spacing:2,className:"component-loader-container"},r.a.createElement(I.a,{item:!0,className:"component-loader-center"},r.a.createElement(k.a,{elevation:6},r.a.createElement("img",{src:De.a,className:"component-loader-logo",alt:"logo"}),r.a.createElement(ee.a,{className:"component-loader-title",variant:"h4"},"Next Dance Step"))),r.a.createElement(I.a,{item:!0},this.state.error.hasError?this.promptDisclaimer():this.promptLoading())),this.getReadme())}}]),a}(r.a.Component),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleLoad=function(e){n.setState({data:e})},n.getMain=function(){return r.a.createElement(je,{data:n.state.data})},n.getLoader=function(){return r.a.createElement(we,{onLoad:n.handleLoad})},n.handleLoad=n.handleLoad.bind(Object(c.a)(n)),n.state={data:null},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(oe.a,{className:"App"},null===this.state.data?this.getLoader():this.getMain())}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,a){e.exports=a.p+"static/media/logo.a23ed476.png"},96:function(e,t,a){e.exports=a(110)}},[[96,1,2]]]);
//# sourceMappingURL=main.fd4dde9a.chunk.js.map